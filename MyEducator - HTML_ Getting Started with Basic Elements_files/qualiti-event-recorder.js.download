(()=>{"use strict";var e={1724:(e,t)=>{function r(e){return(e||"").replace(/\n|\t/g," ").trim()}function n(e){return e.replace(/[-[\]{}()+?.,\\^$|#\s]/g,"\\$&")}function i(e,t){if(e.src.indexOf(`/${t}`)>-1){const r=e.src.split("?").pop().split("&"),n={};return r.forEach((e=>{const[t,r]=e.split("=");n[t]=r})),{domainUrl:e.src.split(`/${t}.js`)[0],params:n}}return{}}function a(e){let t=-1;return Array.from(e.parentElement.children).forEach(((r,n)=>{r==e&&(t=n)})),t}function o(e,t){if(e&&!t)return-1;if(!e&&t)return 1;if(!e&&!t)return 0;const r=e.split("."),n=t.split(".");if(1===r.length&&1===n.length)return 0;const i=r[1],a=n[1];return Number(i)>Number(a)?1:Number(i)<Number(a)?-1:0}function s(e,t,r){const n=r&&r.lexicographical,i=r&&r.zeroExtend;if(!t&&e)return 1;if(t&&!e)return-1;if(!t&&!e)return 0;let a=e.split("."),o=t.split(".");function s(e){return(n?/^\d+[A-Za-z]*$/:/^\d+$/).test(e)}if(!a.every(s)||!o.every(s))return NaN;if(i){for(;a.length<o.length;)a.push("0");for(;o.length<a.length;)o.push("0")}n||(a=a.map(Number),o=o.map(Number));for(let e=0;e<a.length;e+=1){if(o.length===e)return 1;if(a[e]!==o[e])return a[e]>o[e]?1:-1}return a.length!==o.length?-1:0}Object.defineProperty(t,"__esModule",{value:!0}),t.semanticVersionOnlyCompare=t.semanticVersionAllCompare=t.checkAlphaBetaVersion=t.getSelectors=t.getElementIndex=t.createUuid=t.hash=t.retrieveProjectToken=t.retrieveEnvironmentId=t.retrieveProjectId=t.invalidateCacheFromVersion=t.parseScriptParams=t.getParams=t.escapeRegExp=t.validateAsteriskUrl=t.cleanText=t.parseInnerText=t.insertScript=void 0,t.insertScript=function(e,t){const r=document.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,t&&(r.onload=t);const n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(r,n)},t.parseInnerText=function(e){return r(e.innerText||e.textContent)},t.cleanText=r,t.validateAsteriskUrl=function(e,t){var r;if(!t)return!1;if(!e)return!1;let i=n(e).replace(/[*]/g,".+");return e.startsWith("http")||(i=`^((https|http)?(://)?)${i}`),e.startsWith("^")||(i=`^${i}`),!!(null===(r=t.match(i))||void 0===r?void 0:r.length)},t.escapeRegExp=n,t.getParams=function(e){const t=document.getElementsByTagName("script");for(let r=0;r<t.length;r+=1){const{domainUrl:n,params:a}=i(t[r],e);if(a)return{domainUrl:n,params:a}}return{domainUrl:"",params:{projectId:window.__qualitiProjectId,version:window.__qualitiVersion}}},t.parseScriptParams=i,t.invalidateCacheFromVersion=function(e){const t=document.getElementsByTagName("scripts"),r=Array.from(t).find((e=>e.src.indexOf("/event-tracker")>=0));r&&(r.src=r.src.replace(r.src,r.src.indexOf("?")>=0?`${r.src}&version=${e}`:`${r.src}?version=${e}`))},t.retrieveProjectId=function(e){return e.project_id?Number(e.project_id):null},t.retrieveEnvironmentId=function(e){return e.id?Number(e.id):null},t.retrieveProjectToken=function(e){return e.token?e.token:null},t.hash=function(e){let{length:t}=e,r=5381,n=52711;for(;t;){const i=e.charCodeAt(t);r=33*r^i,n=33*n^i,t-=1}return 4096*(r>>>0)+(n>>>0)},t.createUuid=function(){let e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{const r=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?r:3&r|8).toString(16)}))},t.getElementIndex=a,t.getSelectors=function(e){let t=e,r="";const n=[],i=[],o=[],s=[];let l=!1;const c=t&&t.className?`.${t.className.toString().trim().split(" ").join(".")}`:"";do{let e="";if(t.parentElement&&t.parentElement.children&&t.parentElement.children.length>1){const r=a(t);-1!==r&&(e=`:nth-child(${r+1})`)}else e=":first-child";const c=t&&t.className?`.${t.className.toString().trim().split(" ").join(".")}`:"",u=t.tagName;"BODY"===u&&(e="",s.unshift("BODY")),"HTML"!==u&&"BODY"!==u&&(s.unshift(e),i.unshift(`${u}${e}`),l||(o.unshift(t.id?`#${t.id}${e}`:`${u}${e}`),l=!!t.id),n.unshift(u),r=`${u}${t.id?`#${t.id}`:c}${e} > ${r}`,r=r.endsWith(".")?r.slice(0,r.length-1):r),t=t.parentElement}while(t&&(t.parentElement||t.parentNode));return r=r.endsWith(" > ")?r.slice(0,r.length-3):r,r=r.replace("..","."),{detailedCssSelector:r,structuralTagsSelector:i.join(" > "),tagsOnlySelector:n.join(" > "),structuralSelector:s.join(" > "),simplifiedStructuralSelector:o.join(" > "),classes:c}},t.checkAlphaBetaVersion=o,t.semanticVersionAllCompare=function(e,t,r){if(!e&&t)return-1;if(e&&!t)return 1;if(!e&&!t)return 0;const[n,i]=e.split("-"),[a,l]=t.split("-"),c=s(n||i,a||l,r);if(Number.isNaN(c))return NaN;if(0===c){if(i&&!l)return-1;if(!i&&l)return 1;if(!i&&!l)return 0;if(i.includes("alpha")){if(l.includes("alpha"))return o(i,l);if(l.includes("beta"))return-1}if(i.includes("beta"))return i.includes("beta")?o(i,l):l.includes("alpha")?1:-1}return c},t.semanticVersionOnlyCompare=s}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}(()=>{const e=r(1724);var t;!function(e){e.DownloadVAC="__qualitiDownloadVisualApplicationCoverage"}(t||(t={}));new class{constructor(r){const{domainUrl:n,params:i}=(0,e.getParams)("qualiti-event-recorder");i.token=(0,e.retrieveProjectToken)(i),i.token&&(window.__qualitiVersion=window.__qualitiVersion||r,(0,e.semanticVersionAllCompare)(i.version,window.__qualitiVersion)<0&&(0,e.invalidateCacheFromVersion)(window.__qualitiVersion),window.addEventListener("message",(r=>{if(this.isEventFromQualiti(r.origin))try{JSON.parse(r.data).message===t.DownloadVAC&&(0,e.insertScript)(`${n}/qualiti-visual-application-coverage.js?${[`token=${i.token}`,`version=${window.__qualitiVersion}`].join("&")}`)}catch(e){return}}),!1),(0,e.insertScript)(`${n}/qualiti-tracker.js?${[`token=${i.token}`,`version=${window.__qualitiVersion}`].join("&")}`))}isEventFromQualiti(e){return["http://localhost:4200","https://app.qualiti-dev.com","https://app.qualiti.ai","https://4200-qualitiai[-]qualitiui[-].*.gitpod.io"].filter((t=>new RegExp(t).test(e))).length>0}}("1.5.6")})()})();